/**\n * PAGINA DE ADMINISTRACAO DE CRIPTOGRAFIA\n * \n * Pagina centralizada para administracao do sistema de criptografia\n * por tenant, incluindo dashboard, exemplos e ferramentas.\n */\n\nimport React, { useState } from 'react';\nimport { useAuth} from '@/contexts/AuthContextOptimized';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Badge } from '@/components/ui/badge';\nimport { \n  Shield,\n  BarChart3,\n  FileText,\n  Settings,\n  Key,\n  Activity,\n  Users,\n  Database,\n  Zap,\n  BookOpen,\n  AlertTriangle,\n  CheckCircle,\n  Info\n} from 'lucide-react';\nimport CryptoDashboard from './CryptoDashboard';\nimport CryptoFormExample from './CryptoFormExample';\nimport { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert';\n\nconst CryptoAdminPage: React.FC = () => {\n  const { user } = useAuth();\n  const [activeTab, setActiveTab] = useState('dashboard');\n  \n  const hasPermission = user?.isPlatformAdmin || false;\n  \n  if (!hasPermission) {\n    return (\n      <div className=\"container mx-auto p-6\">\n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"text-center text-muted-foreground\">\n              <Shield className=\"mx-auto h-12 w-12 mb-4\" />\n              <h3 className=\"text-lg font-semibold mb-2\">Acesso Restrito</h3>\n              <p>Esta pagina e restrita a administradores da plataforma.</p>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n  \n  return (\n    <div className=\"container mx-auto p-6 space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold flex items-center gap-3\">\n            <Shield className=\"h-8 w-8 text-primary\" />\n            Administracao de Criptografia\n          </h1>\n          <p className=\"text-muted-foreground mt-2\">\n            Sistema de gestao de chaves criptograficas por tenant\n          </p>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Badge variant=\"outline\" className=\"flex items-center gap-1\">\n            <CheckCircle className=\"h-3 w-3 text-green-500\" />\n            Sistema Ativo\n          </Badge>\n          <Badge variant=\"secondary\">\n            AES-256-GCM\n          </Badge>\n        </div>\n      </div>\n      \n      {/* Informacoes do Sistema */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <Alert>\n          <Info className=\"h-4 w-4\" />\n          <AlertTitle>Isolamento Criptografico</AlertTitle>\n          <AlertDescription>\n            Cada tenant possui chaves unicas que garantem isolamento completo dos dados.\n          </AlertDescription>\n        </Alert>\n        \n        <Alert>\n          <Key className=\"h-4 w-4\" />\n          <AlertTitle>Multiplos Propositos</AlertTitle>\n          <AlertDescription>\n            Chaves especificas para PII, dados financeiros, auditoria e compliance.\n          </AlertDescription>\n        </Alert>\n        \n        <Alert>\n          <Activity className=\"h-4 w-4\" />\n          <AlertTitle>Auditoria Completa</AlertTitle>\n          <AlertDescription>\n            Todas as operacoes sao registradas para compliance e monitoramento.\n          </AlertDescription>\n        </Alert>\n      </div>\n      \n      {/* Tabs Principais */}\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\n        <TabsList className=\"grid grid-cols-4 w-full\">\n          <TabsTrigger value=\"dashboard\" className=\"flex items-center gap-2\">\n            <BarChart3 className=\"h-4 w-4\" />\n            Dashboard\n          </TabsTrigger>\n          <TabsTrigger value=\"examples\" className=\"flex items-center gap-2\">\n            <FileText className=\"h-4 w-4\" />\n            Exemplos\n          </TabsTrigger>\n          <TabsTrigger value=\"tools\" className=\"flex items-center gap-2\">\n            <Settings className=\"h-4 w-4\" />\n            Ferramentas\n          </TabsTrigger>\n          <TabsTrigger value=\"docs\" className=\"flex items-center gap-2\">\n            <BookOpen className=\"h-4 w-4\" />\n            Documentacao\n          </TabsTrigger>\n        </TabsList>\n        \n        {/* Dashboard */}\n        <TabsContent value=\"dashboard\" className=\"space-y-6\">\n          <CryptoDashboard />\n        </TabsContent>\n        \n        {/* Exemplos */}\n        <TabsContent value=\"examples\" className=\"space-y-6\">\n          <div className=\"space-y-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <FileText className=\"h-5 w-5\" />\n                  Exemplos de Implementacao\n                </CardTitle>\n                <CardDescription>\n                  Demonstracoes praticas de como usar o sistema de criptografia\n                </CardDescription>\n              </CardHeader>\n            </Card>\n            \n            <CryptoFormExample />\n          </div>\n        </TabsContent>\n        \n        {/* Ferramentas */}\n        <TabsContent value=\"tools\" className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {/* Ferramenta de Teste */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Zap className=\"h-5 w-5 text-yellow-500\" />\n                  Teste de Criptografia\n                </CardTitle>\n                <CardDescription>\n                  Teste a funcionalidade de criptografia para qualquer tenant\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <Button className=\"w-full\" onClick={() => setActiveTab('examples')}>\n                  <Zap className=\"h-4 w-4 mr-2\" />\n                  Abrir Ferramenta\n                </Button>\n              </CardContent>\n            </Card>\n            \n            {/* Gerenciamento de Chaves */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Key className=\"h-5 w-5 text-blue-500\" />\n                  Gerenciamento de Chaves\n                </CardTitle>\n                <CardDescription>\n                  Gerencie chaves criptograficas por tenant\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <Button className=\"w-full\" variant=\"outline\">\n                  <Key className=\"h-4 w-4 mr-2\" />\n                  Ver no Tenant Management\n                </Button>\n              </CardContent>\n            </Card>\n            \n            {/* Auditoria */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Activity className=\"h-5 w-5 text-green-500\" />\n                  Logs de Auditoria\n                </CardTitle>\n                <CardDescription>\n                  Visualize logs de operacoes criptograficas\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <Button className=\"w-full\" variant=\"outline\">\n                  <Activity className=\"h-4 w-4 mr-2\" />\n                  Ver Logs\n                </Button>\n              </CardContent>\n            </Card>\n            \n            {/* Cache Management */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Database className=\"h-5 w-5 text-purple-500\" />\n                  Gerenciamento de Cache\n                </CardTitle>\n                <CardDescription>\n                  Monitore e gerencie o cache de chaves\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <Button className=\"w-full\" variant=\"outline\">\n                  <Database className=\"h-4 w-4 mr-2\" />\n                  Ver Cache\n                </Button>\n              </CardContent>\n            </Card>\n            \n            {/* Performance Monitor */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <BarChart3 className=\"h-5 w-5 text-orange-500\" />\n                  Monitor de Performance\n                </CardTitle>\n                <CardDescription>\n                  Monitore performance das operacoes\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <Button className=\"w-full\" variant=\"outline\" onClick={() => setActiveTab('dashboard')}>\n                  <BarChart3 className=\"h-4 w-4 mr-2\" />\n                  Ver Dashboard\n                </Button>\n              </CardContent>\n            </Card>\n            \n            {/* Backup & Recovery */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Shield className=\"h-5 w-5 text-red-500\" />\n                  Backup & Recovery\n                </CardTitle>\n                <CardDescription>\n                  Ferramentas de backup e recuperacao\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <Button className=\"w-full\" variant=\"outline\">\n                  <Shield className=\"h-4 w-4 mr-2\" />\n                  Em Desenvolvimento\n                </Button>\n              </CardContent>\n            </Card>\n          </div>\n        </TabsContent>\n        \n        {/* Documentacao */}\n        <TabsContent value=\"docs\" className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            {/* Guia de Implementacao */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <BookOpen className=\"h-5 w-5 text-blue-500\" />\n                  Guia de Implementacao\n                </CardTitle>\n                <CardDescription>\n                  Como implementar criptografia em seus componentes\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <h4 className=\"font-medium\">1. Importar o Hook</h4>\n                  <div className=\"p-3 bg-muted rounded-lg font-mono text-sm\">\n                    import &#123; useTenantCrypto &#125; from '@/hooks/useTenantCrypto';\n                  </div>\n                </div>\n                \n                <div className=\"space-y-2\">\n                  <h4 className=\"font-medium\">2. Usar no Componente</h4>\n                  <div className=\"p-3 bg-muted rounded-lg font-mono text-sm\">\n                    const &#123; encryptPII, decryptPII &#125; = useTenantCrypto();\n                  </div>\n                </div>\n                \n                <div className=\"space-y-2\">\n                  <h4 className=\"font-medium\">3. Criptografar Dados</h4>\n                  <div className=\"p-3 bg-muted rounded-lg font-mono text-sm\">\n                    const encrypted = await encryptPII('dados sensiveis');\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n            \n            {/* Referencia da API */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Settings className=\"h-5 w-5 text-green-500\" />\n                  Referencia da API\n                </CardTitle>\n                <CardDescription>\n                  Funcoes disponiveis no sistema de criptografia\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"space-y-3\">\n                  <div>\n                    <h4 className=\"font-medium text-sm\">Funcoes de Conveniencia</h4>\n                    <ul className=\"text-sm text-muted-foreground space-y-1 mt-1\">\n                      <li>- <code>encryptPII(data)</code> - Dados pessoais</li>\n                      <li>- <code>encryptFinancial(data)</code> - Dados financeiros</li>\n                      <li>- <code>encryptAudit(data)</code> - Dados de auditoria</li>\n                      <li>- <code>encryptCompliance(data)</code> - Dados de compliance</li>\n                    </ul>\n                  </div>\n                  \n                  <div>\n                    <h4 className=\"font-medium text-sm\">Funcoes de Gerenciamento</h4>\n                    <ul className=\"text-sm text-muted-foreground space-y-1 mt-1\">\n                      <li>- <code>rotateKey(purpose)</code> - Rotacionar chave</li>\n                      <li>- <code>createTenantKeys()</code> - Criar chaves</li>\n                      <li>- <code>clearCache()</code> - Limpar cache</li>\n                    </ul>\n                  </div>\n                  \n                  <div>\n                    <h4 className=\"font-medium text-sm\">Funcoes de Teste</h4>\n                    <ul className=\"text-sm text-muted-foreground space-y-1 mt-1\">\n                      <li>- <code>testEncryption(data)</code> - Testar sistema</li>\n                      <li>- <code>isEncrypted(data)</code> - Verificar se esta criptografado</li>\n                    </ul>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n            \n            {/* Melhores Praticas */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <CheckCircle className=\"h-5 w-5 text-green-500\" />\n                  Melhores Praticas\n                </CardTitle>\n                <CardDescription>\n                  Recomendacoes para uso seguro do sistema\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-start gap-2\">\n                    <CheckCircle className=\"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0\" />\n                    <div className=\"text-sm\">\n                      <strong>Sempre use o proposito correto</strong> - PII para dados pessoais, financial para valores monetarios\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex items-start gap-2\">\n                    <CheckCircle className=\"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0\" />\n                    <div className=\"text-sm\">\n                      <strong>Trate erros adequadamente</strong> - Sempre verifique o resultado das operacoes\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex items-start gap-2\">\n                    <CheckCircle className=\"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0\" />\n                    <div className=\"text-sm\">\n                      <strong>Use cache inteligentemente</strong> - O sistema ja otimiza automaticamente\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex items-start gap-2\">\n                    <CheckCircle className=\"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0\" />\n                    <div className=\"text-sm\">\n                      <strong>Monitore performance</strong> - Use o dashboard para acompanhar metricas\n                    </div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n            \n            {/* Troubleshooting */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <AlertTriangle className=\"h-5 w-5 text-yellow-500\" />\n                  Troubleshooting\n                </CardTitle>\n                <CardDescription>\n                  Solucoes para problemas comuns\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-3\">\n                  <div>\n                    <h4 className=\"font-medium text-sm text-red-600\">Erro: \"Chave nao encontrada\"</h4>\n                    <p className=\"text-sm text-muted-foreground mt-1\">\n                      Execute <code>createTenantKeys()</code> para criar as chaves do tenant\n                    </p>\n                  </div>\n                  \n                  <div>\n                    <h4 className=\"font-medium text-sm text-red-600\">Performance lenta</h4>\n                    <p className=\"text-sm text-muted-foreground mt-1\">\n                      Verifique o cache hit rate no dashboard. Use <code>clearCache()</code> se necessario\n                    </p>\n                  </div>\n                  \n                  <div>\n                    <h4 className=\"font-medium text-sm text-red-600\">Dados corrompidos</h4>\n                    <p className=\"text-sm text-muted-foreground mt-1\">\n                      Verifique os logs de auditoria e considere rotacionar a chave\n                    </p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n};\n\nexport default CryptoAdminPage;\n"