import React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { \n  Calendar,\n  ClipboardList,\n  FileText,\n  BarChart3,\n  Target,\n  TrendingUp,\n  Users,\n  AlertTriangle,\n  CheckCircle,\n  Clock,\n  Search,\n  Plus,\n  Filter,\n  ArrowRight\n} from 'lucide-react';\nimport { useAuth } from '@/contexts/AuthContextOptimized';\nimport { useCurrentTenantId } from '@/contexts/TenantSelectorContext';\nimport { toast } from 'sonner';\n\nexport function AuditoriasDashboardSimple() {\n  const { user } = useAuth();\n  const selectedTenantId = useCurrentTenantId();\n  const effectiveTenantId = user?.isPlatformAdmin ? selectedTenantId : user?.tenantId;\n  const [loading, setLoading] = useState(false);\n  const [selectedTab, setSelectedTab] = useState('overview');\n\n  // Dados mockados para teste\n  const metrics = {\n    totalProcesses: 25,\n    highRiskProcesses: 5,\n    completedAudits: 18,\n    activeProjects: 7,\n    coveragePercentage: 72\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[400px]\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\n        <div>\n          <h1 className=\"text-3xl font-bold\">Auditoria Interna</h1>\n          <p className=\"text-muted-foreground\">Motor de Assurance Din√¢mico e Conectado</p>\n        </div>\n        <div className=\"flex gap-2\">\n          <Button variant=\"outline\">\n            <Search className=\"h-4 w-4 mr-2\" />\n            Buscar\n          </Button>\n          <Button variant=\"outline\">\n            <Filter className=\"h-4 w-4 mr-2\" />\n            Filtros\n          </Button>\n          <Button>\n            <Plus className=\"h-4 w-4 mr-2\" />\n            Novo Projeto\n          </Button>\n        </div>\n      </div>\n\n      {/* M√©tricas Principais */}\n      <div className=\"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4\">\n        <Card>\n          <CardContent className=\"p-3 sm:p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Processos</p>\n                <p className=\"text-xl sm:text-2xl font-bold\">{metrics.totalProcesses}</p>\n              </div>\n              <Target className=\"h-6 w-6 sm:h-8 sm:w-8 text-blue-600\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Alto Risco</p>\n                <p className=\"text-xl sm:text-2xl font-bold text-red-600\">{metrics.highRiskProcesses}</p>\n              </div>\n              <AlertTriangle className=\"h-6 w-6 sm:h-8 sm:w-8 text-red-600\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Conclu√≠das</p>\n                <p className=\"text-xl sm:text-2xl font-bold text-green-600\">{metrics.completedAudits}</p>\n              </div>\n              <CheckCircle className=\"h-6 w-6 sm:h-8 sm:w-8 text-green-600\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Em Andamento</p>\n                <p className=\"text-xl sm:text-2xl font-bold text-blue-600\">{metrics.activeProjects}</p>\n              </div>\n              <Clock className=\"h-6 w-6 sm:h-8 sm:w-8 text-blue-600\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Cobertura</p>\n                <p className=\"text-xl sm:text-2xl font-bold\">{metrics.coveragePercentage}%</p>\n              </div>\n              <TrendingUp className=\"h-6 w-6 sm:h-8 sm:w-8 text-green-600\" />\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* M√≥dulos de Auditoria */}\n      <div className=\"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4\">\n        <Card className=\"hover:shadow-md transition-all duration-300 cursor-pointer group relative overflow-hidden\">\n          <CardContent className=\"p-4 sm:p-6 relative z-10\">\n            <div className=\"flex items-center justify-between mb-3 sm:mb-4\">\n              <Calendar className=\"h-6 w-6 sm:h-8 sm:w-8 text-blue-600\" />\n              <ArrowRight className=\"h-4 w-4 sm:h-5 sm:w-5 text-muted-foreground\" />\n            </div>\n            <h3 className=\"font-semibold text-base sm:text-lg mb-2\">Planejamento Estrat√©gico</h3>\n            <p className=\"text-muted-foreground text-sm\">Gest√£o completa do planejamento estrat√©gico organizacional</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"hover:shadow-md transition-all duration-300 cursor-pointer group relative overflow-hidden\" onClick={() => setSelectedTab('projects')}>\n          <CardContent className=\"p-6 relative z-10\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <ClipboardList className=\"h-6 w-6 sm:h-8 sm:w-8 text-green-600\" />\n              <ArrowRight className=\"h-5 w-5 text-muted-foreground\" />\n            </div>\n            <h3 className=\"font-semibold text-base sm:text-lg mb-2\">Projetos</h3>\n            <p className=\"text-muted-foreground text-sm\">Gest√£o de projetos de auditoria e equipes</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"hover:shadow-md transition-all duration-300 cursor-pointer group relative overflow-hidden\" onClick={() => setSelectedTab('working-papers')}>\n          <CardContent className=\"p-6 relative z-10\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <FileText className=\"h-6 w-6 sm:h-8 sm:w-8 text-purple-600\" />\n              <ArrowRight className=\"h-5 w-5 text-muted-foreground\" />\n            </div>\n            <h3 className=\"font-semibold text-base sm:text-lg mb-2\">Pap√©is de Trabalho</h3>\n            <p className=\"text-muted-foreground text-sm\">Documenta√ß√£o digital de evid√™ncias</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"hover:shadow-md transition-all duration-300 cursor-pointer group relative overflow-hidden\">\n          <CardContent className=\"p-6 relative z-10\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <BarChart3 className=\"h-6 w-6 sm:h-8 sm:w-8 text-orange-600\" />\n              <ArrowRight className=\"h-5 w-5 text-muted-foreground\" />\n            </div>\n            <h3 className=\"font-semibold text-base sm:text-lg mb-2\">üìä Relat√≥rios</h3>\n            <p className=\"text-muted-foreground text-sm\">Gera√ß√£o autom√°tica de relat√≥rios em m√∫ltiplos formatos</p>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* M√≥dulos Principais */}\n      <Tabs value={selectedTab} onValueChange={setSelectedTab}>\n        <TabsList className=\"grid w-full grid-cols-4\">\n          <TabsTrigger value=\"overview\">Vis√£o Geral</TabsTrigger>\n          <TabsTrigger value=\"projects\">Projetos</TabsTrigger>\n          <TabsTrigger value=\"working-papers\">Pap√©is de Trabalho</TabsTrigger>\n          <TabsTrigger value=\"reports\">Relat√≥rios</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"overview\" className=\"space-y-4 sm:space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <BarChart3 className=\"h-5 w-5\" />\n                Dashboard de Auditoria - Vers√£o Simplificada\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <p>Esta √© uma vers√£o simplificada do dashboard de auditoria para teste de carregamento din√¢mico.</p>\n              <div className=\"mt-4 space-x-2\">\n                <Badge className=\"bg-green-500 text-white\">Funcionando</Badge>\n                <Badge className=\"bg-blue-500 text-white\">Carregamento OK</Badge>\n                <Badge className=\"bg-purple-500 text-white\">Tenant: {effectiveTenantId}</Badge>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"projects\" className=\"space-y-4\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Projetos de Auditoria</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <p>M√≥dulo de projetos ser√° carregado aqui.</p>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"working-papers\" className=\"space-y-4\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Pap√©is de Trabalho</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <p>M√≥dulo de pap√©is de trabalho ser√° carregado aqui.</p>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"reports\" className=\"space-y-4\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Relat√≥rios</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <p>M√≥dulo de relat√≥rios ser√° carregado aqui.</p>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n\nexport default AuditoriasDashboardSimple;"